<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ç‰¹åˆ«çš„ä¸€å¤©</title>

<style>
body {
    margin: 0;
    font-family: "Microsoft YaHei", serif;
    background: linear-gradient(to bottom right, #fdf6f0, #f3e8ff);
    overflow-x: hidden;
    text-align: center;
    color: #444;
}

.section {
    display: none;
    padding: 60px 20px;
    min-height: 100vh;
}

.active {
    display: block;
}

button {
    padding: 12px 25px;
    font-size: 16px;
    border: none;
    border-radius: 30px;
    background: #d8b4fe;
    color: white;
    cursor: pointer;
    transition: 0.3s;
}

button:hover {
    background: #c084fc;
}

.title {
    font-size: 32px;
    margin-bottom: 20px;
}

.timeline {
    max-width: 600px;
    margin: auto;
    text-align: left;
}

.timeline div {
    margin: 20px 0;
    padding: 15px;
    background: rgba(255,255,255,0.7);
    border-radius: 10px;
    cursor: pointer;
}

.hidden-text {
    display: none;
    margin-top: 10px;
    font-size: 14px;
}

.balloon {
    font-size: 40px;
    cursor: pointer;
    transition: transform 1s;
}

.float {
    transform: translateY(-200px);
}

#confetti {
    position: fixed;
    top: 0;
    left: 0;
    pointer-events: none;
}

.secret {
    position: fixed;
    bottom: 10px;
    right: 10px;
    font-size: 14px;
    cursor: pointer;
    opacity: 0.4;
}

.secret:hover {
    opacity: 1;
}
</style>
</head>

<body>

<canvas id="confetti"></canvas>

<!-- å¼€åœº -->
<div class="section active" id="start">
    <div class="title">ä»Šå¤©ï¼Œæ˜¯ä¸€ä¸ªç‰¹åˆ«çš„æ—¥å­</div>
    <button onclick="nextSection('guess')">ç‚¹å‡»å¼€å¯</button>
</div>

<!-- çŒœæ˜¯è° -->
<div class="section" id="guess">
    <div class="title">å¥¹æ¯å¤©æ•™å¯¼æˆ‘ä»¬<br>å¥¹ä¸ºå­¦ç”Ÿæ“å¿ƒ<br>å¥¹æ€»æ˜¯é»˜é»˜ä»˜å‡º</div>
    <button onclick="reveal()">å¥¹æ˜¯è°ï¼Ÿ</button>
    <div id="revealText" style="margin-top:20px;font-size:20px;"></div>
</div>

<!-- æ—¶é—´è½´ -->
<div class="section" id="timeline">
    <div class="title">é‚£äº›å€¼å¾—è®°ä½çš„æ—¶åˆ»</div>
    <div class="timeline">
        <div onclick="toggle(this)">
            ğŸ“… è€ƒè¯•å‰çš„é¼“åŠ±
            <div class="hidden-text">â€œç›¸ä¿¡è‡ªå·±ï¼Œä½ å¯ä»¥åšåˆ°ã€‚â€</div>
        </div>
        <div onclick="toggle(this)">
            ğŸ“… ä¸¥æ ¼å´æ¸©æŸ”çš„æé†’
            <div class="hidden-text">é‚£ä»½ä¸¥æ ¼ï¼Œå…¶å®æ˜¯æœ€æ·±çš„å…³å¿ƒã€‚</div>
        </div>
        <div onclick="toggle(this)">
            ğŸ“… ä¸€æ¬¡éš¾å¿˜çš„è¯¾å ‚
            <div class="hidden-text">æ‚¨è®©çŸ¥è¯†å˜å¾—æœ‰æ¸©åº¦ã€‚</div>
        </div>
    </div>
    <br>
    <button onclick="nextSection('celebrate')">ç»§ç»­</button>
</div>

<!-- ç¥ç¦äº’åŠ¨ -->
<div class="section" id="celebrate">
    <div class="title">ç”Ÿæ—¥å¿«ä¹ â¤ï¸</div>
    <p>ç‚¹å‡»æ°”çƒï¼Œä¸ºè€å¸ˆé€ä¸Šç¥ç¦</p>
    <div class="balloon" onclick="floatBalloon(this)">ğŸˆ</div>
    <div id="wishText" style="margin-top:20px;"></div>
</div>

<!-- éšè—å½©è›‹ -->
<div class="secret" onclick="secretMessage()">å°å°æƒŠå–œ</div>

<script>

function nextSection(id){
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
}

function reveal(){
    document.getElementById("revealText").innerHTML =
        "æ˜¯æˆ‘ä»¬æœ€æ•¬çˆ±çš„è€å¸ˆ ğŸ‚<br><br>ç¥æ‚¨ç”Ÿæ—¥å¿«ä¹ï¼Œå¹¸ç¦å®‰åº·ã€‚";
    setTimeout(()=>nextSection('timeline'),2000);
}

function toggle(el){
    let text = el.querySelector(".hidden-text");
    text.style.display = text.style.display === "block" ? "none" : "block";
}

function floatBalloon(el){
    el.classList.add("float");
    document.getElementById("wishText").innerHTML =
        "æ„¿æ‚¨è¢«æ¸©æŸ”ä»¥å¾…ï¼Œ<br>æ„¿å²æœˆå¯¹æ‚¨æ ¼å¤–æ¸©æŸ”ã€‚";
    launchConfetti();
}

function secretMessage(){
    alert("è°¢è°¢æ‚¨è¿™äº›å¹´çš„æ•™å¯¼ä¸åŒ…å®¹ã€‚\næˆ‘ä»¬çœŸçš„å¾ˆå¹¸è¿é‡è§æ‚¨ã€‚");
}

/* ç®€å•é£˜è½æ•ˆæœ */
function launchConfetti(){
    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let pieces = [];
    for(let i=0;i<100;i++){
        pieces.push({
            x: Math.random()*canvas.width,
            y: Math.random()*canvas.height,
            r: Math.random()*6+2,
            d: Math.random()*100
        });
    }

    function draw(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        ctx.fillStyle="rgba(216,180,254,0.7)";
        pieces.forEach(p=>{
            ctx.beginPath();
            ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
            ctx.fill();
        });
        update();
    }

    function update(){
        pieces.forEach(p=>{
            p.y += Math.cos(p.d)+1;
            if(p.y > canvas.height){
                p.y = 0;
                p.x = Math.random()*canvas.width;
            }
        });
    }

    setInterval(draw,20);
}

</script>

</body>
</html>
